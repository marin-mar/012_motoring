function testWebP(e){const t=new Image;t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",t.onload=t.onerror=function(){2===t.height&&e.classList.add("webp")}}document.addEventListener("DOMContentLoaded",(function(){testWebP(document.body)}));const menuIcon=document.querySelector(".menu__icon"),menuBody=document.querySelector(".menu__body");menuIcon&&menuIcon.addEventListener("click",(function(){document.body.classList.toggle("locked"),menuIcon.classList.toggle("menu__icon--active"),menuBody.classList.toggle("menu__body--active")}));const menulinks=document.querySelectorAll("[data-scrollTo]");menulinks.length>0&&menulinks.forEach((e=>{e.addEventListener("click",(function(e){const t=e.target.dataset.scrollto,o=document.querySelector(t),s=o.getBoundingClientRect().top+pageYOffset-document.querySelector(".header").offsetHeight;t&&o&&(e.preventDefault(),window.scrollTo({top:s,behavior:"smooth"})),menuIcon.classList.contains("menu__icon--active")&&(document.body.classList.remove("locked"),menuIcon.classList.remove("menu__icon--active"),menuBody.classList.remove("menu__body--active"))}))}));const header=document.querySelector(".header"),sticky=header.offsetTop;window.onscroll=function(){window.pageYOffset>sticky?header.classList.add("header--sticky"):header.classList.remove("header--sticky")};const slides=document.querySelectorAll(".intro__slide"),previousControl=document.querySelector(".intro__controls--prev"),nextControl=document.querySelector(".intro__controls--next"),introSlider=document.querySelector(".intro__slider");let currentSlide=0,slideInterval=setInterval(autoPlaySlide,1e4),playing=!0;function nextSlide(){goToSlide(currentSlide+1)}function previousSlide(){goToSlide(currentSlide-1)}function goToSlide(e){slides[currentSlide].className="intro__slide",currentSlide=(e+slides.length)%slides.length,slides[currentSlide].className="intro__slide--active"}function autoPlaySlide(){slides[currentSlide].className="intro__slide",currentSlide=(currentSlide+1)%slides.length,slides[currentSlide].className="intro__slide--active"}function pauseSlideshow(){playing=!1,clearInterval(slideInterval)}function playSlideshow(){playing=!0,slideInterval=setInterval(nextSlide,1e4)}playing?pauseSlideshow():playSlideshow(),nextControl.addEventListener("click",nextSlide),previousControl.addEventListener("click",previousSlide),introSlider.addEventListener("mouseover",pauseSlideshow),introSlider.addEventListener("mouseout",playSlideshow);const productsList=document.querySelector(".products__list"),productsDataFile="../json/products.json",productsTitles=document.querySelectorAll(".products__title"),discountList=document.querySelector(".discount__list");async function getProductsData(e){if(!e.classList.contains("btn--disabled")){e.classList.add("btn--disabled");let t=await fetch(productsDataFile,{method:"GET"});if(t.ok){loadProductsData(await t.json(),e),e.classList.remove("btn--disabled")}else alert("Error HTTP: "+t.status)}}productsTitles.length>0&&productsTitles.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),productsTitles.forEach((e=>e.classList.remove("btn--active"))),e.classList.add("btn--active"),productsList.textContent="",getProductsData(e)}))}));let products=[],productsLength=0,startItem=0,showPerClick=3;function loadProductsData(e,t){productsLength=e.length;for(let o=0;o<e.length;o++){let s=`<li data-prodid="${e[o].id}" class="products__item">\n    \t<img class="products__img" src="${e[o].img}" alt="${e[o].title}" width="260" height="300" />\n    \t<h3 class="products__subtitle">${e[o].title}</h3>\n    \t<p class="products__text">${e[o].text}</p>\n    \t<p class="products__price">\n    \t\t<span class="products__price--new">${e[o].newprice}</span>`;e[o].oldprice&&(s+=`<span class="products__price--old">${e[o].oldprice}</span>`),s+="        \t\n    \t</p>\n    </li>",products.push(s),t.classList.contains("products__title")&&t.firstChild.nodeValue==e[o].group&&productsList.insertAdjacentHTML("beforeend",s),t.classList.contains("discount__title")&&"yes"==e[o].discount&&discountList.insertAdjacentHTML("beforeend",s)}return products}const offerVideoButton=document.querySelector(".offer__video-button"),offerVideoPoster=document.querySelector(".offer__video-poster"),offerVideo=document.querySelector(".offer__video");offerVideoButton.addEventListener("click",(()=>{offerVideoPoster.style.display="none",offerVideo.play()}));const nonexistentLinks=document.querySelectorAll('a[href="#"]'),popupBg=document.querySelector(".popup404"),popup=document.querySelector(".popup404__body"),closePopupButton=document.querySelector(".popup404__close");nonexistentLinks.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),document.body.classList.add("locked"),popupBg.classList.add("popup404--active"),popup.classList.add("popup404__body--active")}))})),closePopupButton.addEventListener("click",(()=>{document.body.classList.remove("locked"),popupBg.classList.remove("popup404--active"),popup.classList.remove("popup404__body--active")})),document.addEventListener("click",(e=>{e.target===popupBg&&(document.body.classList.remove("locked"),popupBg.classList.remove("popup404--active"),popup.classList.remove("popup404__body--active"))})),document.addEventListener("DOMContentLoaded",(function(){autoPlaySlide();const e=document.querySelector(".products__title--featured");e.classList.add("btn--active"),getProductsData(e);getProductsData(document.querySelector(".discount__title"))}));